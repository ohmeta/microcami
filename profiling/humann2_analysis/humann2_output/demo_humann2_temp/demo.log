11/20/2018 01:32:20 PM - humann2.humann2 - INFO: Running humann2 v0.11.1
11/20/2018 01:32:20 PM - humann2.humann2 - INFO: Output files will be written to: /ldfssz1/ST_META/share/User/zhujie/toolkit/microcami/profiling/humann2_analysis/humann2_output
11/20/2018 01:32:20 PM - humann2.humann2 - INFO: Writing temp files to directory: /ldfssz1/ST_META/share/User/zhujie/toolkit/microcami/profiling/humann2_analysis/humann2_output/demo_humann2_temp
11/20/2018 01:32:20 PM - humann2.utilities - INFO: File ( /ldfssz1/ST_META/share/User/zhujie/toolkit/humann2/examples/demo.fastq ) is of format:  fastq
11/20/2018 01:32:20 PM - humann2.utilities - DEBUG: Check software, bowtie2, for required version, 2.2
11/20/2018 01:32:21 PM - humann2.utilities - INFO: Using bowtie2 version 2.3
11/20/2018 01:32:21 PM - humann2.humann2 - INFO: Search mode set to uniref90 because a uniref90 translated search database is selected
11/20/2018 01:32:21 PM - humann2.utilities - DEBUG: Check software, diamond, for required version, 0.8.22
11/20/2018 01:32:21 PM - humann2.utilities - INFO: Using diamond version 0.9.21
11/20/2018 01:32:21 PM - humann2.config - INFO: 
Run config settings: 

DATABASE SETTINGS
nucleotide database folder = /ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/lib/python2.7/site-packages/humann2/data/chocophlan_DEMO
protein database folder = /ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/lib/python2.7/site-packages/humann2/data/uniref_DEMO
pathways database file 1 = /ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/lib/python2.7/site-packages/humann2/data/pathways/metacyc_reactions_level4ec_only.uniref.bz2
pathways database file 2 = /ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/lib/python2.7/site-packages/humann2/data/pathways/metacyc_pathways_structured_filtered
utility mapping database folder = /ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/lib/python2.7/site-packages/humann2/data/misc

RUN MODES
resume = False
verbose = False
bypass prescreen = False
bypass nucleotide index = False
bypass nucleotide search = False
bypass translated search = False
translated search = diamond
pick frames = off
threads = 1

SEARCH MODE
search mode = uniref90
identity threshold = 90.0

ALIGNMENT SETTINGS
evalue threshold = 1.0
prescreen threshold = 0.01
translated subject coverage threshold = 50.0
translated query coverage threshold = 90.0

PATHWAYS SETTINGS
minpath = on
xipe = off
gap fill = on

INPUT AND OUTPUT FORMATS
input file format = fastq
output file format = tsv
output max decimals = 10
remove stratified output = False
remove column description output = False
log level = DEBUG

11/20/2018 01:32:21 PM - humann2.store - DEBUG: Initialize Alignments class instance to minimize memory use
11/20/2018 01:32:21 PM - humann2.store - DEBUG: Initialize Reads class instance to minimize memory use
11/20/2018 01:32:32 PM - humann2.humann2 - INFO: Load pathways database part 1: /ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/lib/python2.7/site-packages/humann2/data/pathways/metacyc_reactions_level4ec_only.uniref.bz2
11/20/2018 01:32:52 PM - humann2.humann2 - INFO: Load pathways database part 2: /ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/lib/python2.7/site-packages/humann2/data/pathways/metacyc_pathways_structured_filtered
11/20/2018 01:32:52 PM - humann2.search.prescreen - INFO: Running metaphlan2.py ........
11/20/2018 01:32:52 PM - humann2.utilities - DEBUG: Using software: /ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/bin/metaphlan2.py
11/20/2018 01:32:52 PM - humann2.utilities - INFO: Execute command: /ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/bin/metaphlan2.py /ldfssz1/ST_META/share/User/zhujie/toolkit/humann2/examples/demo.fastq --input_type fastq --mpa_pkl /ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/bin/metaphlan_databases/mpa_v20_m200.pkl --bowtie2db /ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/bin/metaphlan_databases -o /ldfssz1/ST_META/share/User/zhujie/toolkit/microcami/profiling/humann2_analysis/humann2_output/demo_humann2_temp/demo_metaphlan_bugs_list.tsv --input_type multifastq --bowtie2out /ldfssz1/ST_META/share/User/zhujie/toolkit/microcami/profiling/humann2_analysis/humann2_output/demo_humann2_temp/demo_metaphlan_bowtie2.txt
11/20/2018 01:34:49 PM - humann2.utilities - DEBUG: Help message for read_fastx.py

11/20/2018 01:34:49 PM - humann2.humann2 - INFO: TIMESTAMP: Completed 	prescreen 	:	 117	 seconds
11/20/2018 01:34:49 PM - humann2.search.prescreen - INFO: Found g__Bacteroides.s__Bacteroides_dorei : 59.40% of mapped reads
11/20/2018 01:34:49 PM - humann2.search.prescreen - INFO: Found g__Bacteroides.s__Bacteroides_vulgatus : 40.60% of mapped reads
11/20/2018 01:34:49 PM - humann2.search.prescreen - INFO: Total species selected from prescreen: 2
11/20/2018 01:34:49 PM - humann2.search.prescreen - DEBUG: Adding file to database: g__Bacteroides.s__Bacteroides_dorei.centroids.v0.1.1.ffn.gz
11/20/2018 01:34:49 PM - humann2.search.prescreen - DEBUG: Adding file to database: g__Bacteroides.s__Bacteroides_vulgatus.centroids.v0.1.1.ffn.gz
11/20/2018 01:34:49 PM - humann2.search.prescreen - INFO: Creating custom ChocoPhlAn database ........
11/20/2018 01:34:49 PM - humann2.utilities - DEBUG: Using software: /bin/gunzip
11/20/2018 01:34:49 PM - humann2.utilities - INFO: Execute command: /bin/gunzip -c /ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/lib/python2.7/site-packages/humann2/data/chocophlan_DEMO/g__Bacteroides.s__Bacteroides_dorei.centroids.v0.1.1.ffn.gz /ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/lib/python2.7/site-packages/humann2/data/chocophlan_DEMO/g__Bacteroides.s__Bacteroides_vulgatus.centroids.v0.1.1.ffn.gz
11/20/2018 01:34:49 PM - humann2.humann2 - INFO: TIMESTAMP: Completed 	custom database creation 	:	 0	 seconds
11/20/2018 01:34:49 PM - humann2.search.nucleotide - INFO: Running bowtie2-build ........
11/20/2018 01:34:49 PM - humann2.utilities - DEBUG: Using software: /ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/bin/bowtie2-build
11/20/2018 01:34:49 PM - humann2.utilities - INFO: Execute command: /ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/bin/bowtie2-build -f /ldfssz1/ST_META/share/User/zhujie/toolkit/microcami/profiling/humann2_analysis/humann2_output/demo_humann2_temp/demo_custom_chocophlan_database.ffn /ldfssz1/ST_META/share/User/zhujie/toolkit/microcami/profiling/humann2_analysis/humann2_output/demo_humann2_temp/demo_bowtie2_index
11/20/2018 01:35:09 PM - humann2.humann2 - INFO: TIMESTAMP: Completed 	database index 	:	 20	 seconds
11/20/2018 01:35:09 PM - humann2.search.nucleotide - DEBUG: Nucleotide input file is of type: fastq
11/20/2018 01:35:09 PM - humann2.utilities - DEBUG: Using software: /ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/bin/bowtie2
11/20/2018 01:35:09 PM - humann2.utilities - INFO: Execute command: /ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/bin/bowtie2 -q -x /ldfssz1/ST_META/share/User/zhujie/toolkit/microcami/profiling/humann2_analysis/humann2_output/demo_humann2_temp/demo_bowtie2_index -U /ldfssz1/ST_META/share/User/zhujie/toolkit/humann2/examples/demo.fastq -S /ldfssz1/ST_META/share/User/zhujie/toolkit/microcami/profiling/humann2_analysis/humann2_output/demo_humann2_temp/demo_bowtie2_aligned.sam --very-sensitive
11/20/2018 01:35:14 PM - humann2.utilities - DEBUG: 21000 reads; of these:
  21000 (100.00%) were unpaired; of these:
    4655 (22.17%) aligned 0 times
    6018 (28.66%) aligned exactly 1 time
    10327 (49.18%) aligned >1 times
77.83% overall alignment rate

11/20/2018 01:35:14 PM - humann2.humann2 - INFO: TIMESTAMP: Completed 	nucleotide alignment 	:	 4	 seconds
11/20/2018 01:35:15 PM - humann2.search.nucleotide - DEBUG: Total nucleotide alignments not included based on small percent identities: 189
11/20/2018 01:35:15 PM - humann2.search.nucleotide - DEBUG: Keeping sam file
11/20/2018 01:35:15 PM - humann2.humann2 - INFO: TIMESTAMP: Completed 	nucleotide alignment post-processing 	:	 1	 seconds
11/20/2018 01:35:15 PM - humann2.humann2 - INFO: Total bugs from nucleotide alignment: 2
11/20/2018 01:35:15 PM - humann2.humann2 - INFO: 
g__Bacteroides.s__Bacteroides_vulgatus: 7336 hits
g__Bacteroides.s__Bacteroides_dorei: 8820 hits
11/20/2018 01:35:15 PM - humann2.humann2 - INFO: Total gene families from nucleotide alignment: 3685
11/20/2018 01:35:15 PM - humann2.humann2 - INFO: Unaligned reads after nucleotide alignment: 23.0666666667 %
11/20/2018 01:35:15 PM - humann2.search.translated - INFO: Running diamond ........
11/20/2018 01:35:15 PM - humann2.search.translated - INFO: Aligning to reference database: uniref90_demo_prots.dmnd
11/20/2018 01:35:15 PM - humann2.utilities - DEBUG: Remove file: /ldfssz1/ST_META/share/User/zhujie/toolkit/microcami/profiling/humann2_analysis/humann2_output/demo_humann2_temp/tmpIGEQPC/diamond_m8_9MHwFp
11/20/2018 01:35:15 PM - humann2.utilities - DEBUG: Using software: /ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/bin/diamond
11/20/2018 01:35:15 PM - humann2.utilities - INFO: Execute command: /ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/bin/diamond blastx --query /ldfssz1/ST_META/share/User/zhujie/toolkit/microcami/profiling/humann2_analysis/humann2_output/demo_humann2_temp/demo_bowtie2_unaligned.fa --evalue 1.0 --threads 1 --max-target-seqs 20 --outfmt 6 --db /ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/lib/python2.7/site-packages/humann2/data/uniref_DEMO/uniref90_demo_prots --out /ldfssz1/ST_META/share/User/zhujie/toolkit/microcami/profiling/humann2_analysis/humann2_output/demo_humann2_temp/tmpIGEQPC/diamond_m8_9MHwFp --tmpdir /ldfssz1/ST_META/share/User/zhujie/toolkit/microcami/profiling/humann2_analysis/humann2_output/demo_humann2_temp/tmpIGEQPC
11/20/2018 01:35:15 PM - humann2.utilities - CRITICAL: Error executing: /ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/bin/diamond blastx --query /ldfssz1/ST_META/share/User/zhujie/toolkit/microcami/profiling/humann2_analysis/humann2_output/demo_humann2_temp/demo_bowtie2_unaligned.fa --evalue 1.0 --threads 1 --max-target-seqs 20 --outfmt 6 --db /ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/lib/python2.7/site-packages/humann2/data/uniref_DEMO/uniref90_demo_prots --out /ldfssz1/ST_META/share/User/zhujie/toolkit/microcami/profiling/humann2_analysis/humann2_output/demo_humann2_temp/tmpIGEQPC/diamond_m8_9MHwFp --tmpdir /ldfssz1/ST_META/share/User/zhujie/toolkit/microcami/profiling/humann2_analysis/humann2_output/demo_humann2_temp/tmpIGEQPC

Error message returned from diamond :
diamond v0.9.21.122 | by Benjamin Buchfink <buchfink@gmail.com>
Licensed under the GNU AGPL <https://www.gnu.org/licenses/agpl.txt>
Check http://github.com/bbuchfink/diamond for updates.

#CPU threads: 1
Scoring parameters: (Matrix=BLOSUM62 Lambda=0.267 K=0.041 Penalties=11/1)
Temporary directory: /ldfssz1/ST_META/share/User/zhujie/toolkit/microcami/profiling/humann2_analysis/humann2_output/demo_humann2_temp/tmpIGEQPC
Opening the database...  [0.007132s]
Error: Database was built with a different version of Diamond and is incompatible.

11/20/2018 01:35:15 PM - humann2.utilities - CRITICAL: TRACEBACK: 
Traceback (most recent call last):
  File "/ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/lib/python2.7/site-packages/humann2/utilities.py", line 733, in execute_command
    p_out = subprocess.check_output(cmd, stderr=subprocess.STDOUT)
  File "/ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/lib/python2.7/subprocess.py", line 223, in check_output
    raise CalledProcessError(retcode, cmd, output=output)
CalledProcessError: Command '['/ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/bin/diamond', 'blastx', '--query', '/ldfssz1/ST_META/share/User/zhujie/toolkit/microcami/profiling/humann2_analysis/humann2_output/demo_humann2_temp/demo_bowtie2_unaligned.fa', '--evalue', '1.0', '--threads', '1', '--max-target-seqs', '20', '--outfmt', '6', '--db', '/ldfssz1/ST_META/share/User/zhujie/bioenv/envs/bioenv2/lib/python2.7/site-packages/humann2/data/uniref_DEMO/uniref90_demo_prots', '--out', '/ldfssz1/ST_META/share/User/zhujie/toolkit/microcami/profiling/humann2_analysis/humann2_output/demo_humann2_temp/tmpIGEQPC/diamond_m8_9MHwFp', '--tmpdir', '/ldfssz1/ST_META/share/User/zhujie/toolkit/microcami/profiling/humann2_analysis/humann2_output/demo_humann2_temp/tmpIGEQPC']' returned non-zero exit status 1

